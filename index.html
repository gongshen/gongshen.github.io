<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="I&apos;m worm,find the truth,live in shadow.">
<meta property="og:type" content="website">
<meta property="og:title" content="Hexo">
<meta property="og:url" content="http://www.llyltq.top/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="I&apos;m worm,find the truth,live in shadow.">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Hexo">
<meta name="twitter:description" content="I&apos;m worm,find the truth,live in shadow.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://www.llyltq.top/"/>





  <title>Hexo</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Hexo</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
	
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.llyltq.top/2018/11/10/Record-Dokcer-Instruction/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="冉某某">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/10/Record-Dokcer-Instruction/" itemprop="url">Record Docker Instruction</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-10T21:10:02+08:00">
                2018-11-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/虚拟机/" itemprop="url" rel="index">
                    <span itemprop="name">虚拟机</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/虚拟机/docker/" itemprop="url" rel="index">
                    <span itemprop="name">docker</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
	  
      
	  <!--
        
          
            <h3 id="镜像指令"><a href="#镜像指令" class="headerlink" title="镜像指令"></a>镜像指令</h3><p>从远处拉取镜像到本地<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker image pull library/hello-world</span><br></pre></td></tr></table></figure></p>
<p>显示本地镜像<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ docker image ls</span><br><span class="line">REPOSITORY       TAG         IMAGE ID        CREATED         SIZE</span><br><span class="line">hello-world      latest       4ab4c602aa5e     2 months ago     1.84kB</span><br></pre></td></tr></table></figure></p>
<p>根据Dockerfile生成image<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker build -t koa-demo:0.0.1 .</span><br></pre></td></tr></table></figure></p>
<h3 id="容器指令"><a href="#容器指令" class="headerlink" title="容器指令"></a>容器指令</h3><p>生成并运行一个容器实例<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker container run hello-world</span><br></pre></td></tr></table></figure></p>
<p>终止一个容器的运行<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker container kill [containID]</span><br></pre></td></tr></table></figure></p>
<p>列出所有容器（包括停止运行的）<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker container ls --all</span><br></pre></td></tr></table></figure></p>
<p>删除容器文件<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker container rm [containID]</span><br></pre></td></tr></table></figure></p>
<h3 id="运行容器指令"><a href="#运行容器指令" class="headerlink" title="运行容器指令"></a>运行容器指令</h3><p>这时你就已经在容器中，可以按<code>Ctrl+c</code>停止容器，<code>Ctrl+d</code>退出容器<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ docker container run \</span><br><span class="line">-p 8000:3000 \</span><br><span class="line">-it koa-demo:0.1.1 \</span><br><span class="line">--volume &quot;$PWD/&quot;:/var/www/html \</span><br><span class="line">--name wordpress \</span><br><span class="line">--env MYSQL_ROOT_PASSWORD=123456 \</span><br><span class="line">--env MYSQL_DATABASE=wordpress \</span><br><span class="line">--link wordpressdb:mysql \</span><br></pre></td></tr></table></figure></p>
<p>/bin/bash<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">	- -p：将容器的3000端口映射到本机的8000端口</span><br><span class="line">	- -it：容器的shell映射到当前的shell，当前的输入会传到容器中</span><br><span class="line">	- /bin/bash：容器启动后第一个执行的指令，`会覆盖Dockerfile中的CMD指令`</span><br><span class="line">	- --rm：如果加入这个flag，那么在容器停止运行后自动删除容器文件</span><br><span class="line">	- --volume：将当前目录映射到Apache对外访问的默认目录并设置数据卷</span><br><span class="line">	- --name：容器名</span><br><span class="line">	- --env：设置mysql的环境变量</span><br><span class="line">	- -d：容器后台运行</span><br><span class="line">	- --link：该容器连接到wordpressdb容器，别名是mysql</span><br><span class="line"></span><br><span class="line">---	</span><br><span class="line">	</span><br><span class="line">每次运行`docker container run`都会生成一个container文件。</span><br></pre></td></tr></table></figure></p>
<p>$ docker container start [containID]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">查看运行中容器的输出</span><br></pre></td></tr></table></figure></p>
<p>$ docker container logs [containID]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">进入正在运行的容器中</span><br></pre></td></tr></table></figure></p>
<p>$ docker container exec -it [containID] /bin/bash<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">将正在运行的容器中的文件拷贝到本机</span><br></pre></td></tr></table></figure></p>
<p>$ docker container cp [containID]:[/path/to/file] .<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### .dockerignore文件</span><br><span class="line">创建image镜像时忽略的文件</span><br></pre></td></tr></table></figure></p>
<p>$ touch .dockerfile<br>$ vim .dockerfile<br>.git<br>node_modules<br>xxxxx.log<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">### Dockerfile：新建image镜像</span><br><span class="line">拉取node的8.4版本的image文件</span><br></pre></td></tr></table></figure></p>
<p>FROM node:8.4<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">设置维护人</span><br></pre></td></tr></table></figure></p>
<p>maintainer [username] “[useremail]”<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">将当前目录除了.dockerignore打包进/app目录下</span><br></pre></td></tr></table></figure></p>
<p>COPY . /app<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">指定接下来的工作目录为/app</span><br></pre></td></tr></table></figure></p>
<p>WORKDIR    /app<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在/app目录下，运行指令安装依赖，这些都将打包进image中</span><br></pre></td></tr></table></figure></p>
<p>RUN npm install –registry=<a href="https://registry.npm.taobao.org" target="_blank" rel="noopener">https://registry.npm.taobao.org</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">容器将3000端口暴露出来</span><br></pre></td></tr></table></figure></p>
<p>EXPOSE 3000<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">设置容器运行后执行的指令</span><br></pre></td></tr></table></figure></p>
<p>CMD [“node demos/01.js”]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">设置容器运行后执行的指令；如果你在docker run的时候，后面增加的参数会替换掉dockerfile中的CMD指令。</span><br><span class="line">使用ENDPOINT的话，docker run后的的参数会加在ENDPOINT后面。</span><br></pre></td></tr></table></figure></p>
<p>ENDPOINT [“node demos/01.js”]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">### 将image文件发布到网上</span><br><span class="line">登陆</span><br></pre></td></tr></table></figure></p>
<p>$ docker login<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">标注用户名和版本</span><br></pre></td></tr></table></figure></p>
<p>$ docker image tag koa-demo:0.1.1 [username]/[repository]:[tag]<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">发布</span><br></pre></td></tr></table></figure></p>
<p>$ docker image push [username]/[repository]:[tag]<br><code>`</code></p>

          
        
		-->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.llyltq.top/2018/11/10/微服务实践/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="冉某某">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/10/微服务实践/" itemprop="url">微服务实践</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-10T19:07:14+08:00">
                2018-11-10
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
	  
      
	  <!--
        
          
            
          
        
		-->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.llyltq.top/2018/11/10/笔记/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="冉某某">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/10/笔记/" itemprop="url">DaysNote</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-10T18:53:20+08:00">
                2018-11-10
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/DayNote/" itemprop="url" rel="index">
                    <span itemprop="name">DayNote</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
	  
      
	  <!--
        
          
            <h3 id="在windows根据端口找出进程并杀死"><a href="#在windows根据端口找出进程并杀死" class="headerlink" title="在windows根据端口找出进程并杀死"></a>在windows根据端口找出进程并杀死</h3><p>查找占用50051端口的程序<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Master&gt;netstat -ano | findstr &quot;50051&quot;</span><br><span class="line">  TCP 0.0.0.0:50051 0.0.0.0:0 LISTENING 10552</span><br><span class="line">  TCP [::]:50051 [::]:0 LISTENING 10552</span><br></pre></td></tr></table></figure></p>
<p>根据PID找出进程名<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Master&gt;tasklist | findstr 10552</span><br><span class="line">main.exe 10552 Console 2 7,016 K</span><br></pre></td></tr></table></figure></p>
<p>根据进程名杀死进程<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">C:\Users\Master&gt;taskkill /f /t /im main.exe</span><br><span class="line">成功: 已终止 PID 10552 (属于 PID 2524子进程)的进程。</span><br></pre></td></tr></table></figure></p>
<h3 id="Go"><a href="#Go" class="headerlink" title="Go"></a>Go</h3><ol>
<li>golang中值类型的零值为空或者是0，指针类型的零值为nil。</li>
<li>switch的类型断言必须遵守类型断言的规则</li>
<li>switch的类型断言中不能出现<code>fallthrough</code></li>
<li>当使用<code>for range</code>迭代一个通道值为<code>nil</code>时，会永远阻塞在<code>for</code>语句上</li>
</ol>

          
        
		-->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.llyltq.top/2018/11/03/channel实现并发资源池/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="冉某某">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/03/channel实现并发资源池/" itemprop="url">channel实现并发资源池</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-03T11:00:15+08:00">
                2018-11-03
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/golang/" itemprop="url" rel="index">
                    <span itemprop="name">golang</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/golang/并发/" itemprop="url" rel="index">
                    <span itemprop="name">并发</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
	  
      
	  <!--
        
          
            <figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> putMsg <span class="keyword">struct</span> &#123;</span><br><span class="line">	res <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> getMsg <span class="keyword">struct</span> &#123;</span><br><span class="line">	rch <span class="keyword">chan</span> <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Pool <span class="keyword">struct</span> &#123;</span><br><span class="line">	ids      []<span class="keyword">int</span></span><br><span class="line">	counts   <span class="keyword">int</span></span><br><span class="line">	getWaits []*getMsg</span><br><span class="line">	putChan  <span class="keyword">chan</span> *putMsg</span><br><span class="line">	getChan  <span class="keyword">chan</span> *getMsg</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> Max_Concurrency = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Pool)</span> <span class="title">Put</span><span class="params">(i <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	m := &amp;putMsg&#123;&#125;</span><br><span class="line">	m.res = i</span><br><span class="line">	p.putChan &lt;- m</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Pool)</span> <span class="title">Get</span><span class="params">()</span> <span class="params">(<span class="keyword">int</span>, error)</span></span> &#123;</span><br><span class="line">	m := &amp;getMsg&#123;&#125;</span><br><span class="line">	m.rch = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">1</span>)</span><br><span class="line">	p.getChan &lt;- m</span><br><span class="line">	<span class="keyword">select</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> i := &lt;-m.rch:</span><br><span class="line">		<span class="keyword">return</span> i, <span class="literal">nil</span></span><br><span class="line">	<span class="keyword">case</span> &lt;-time.After(<span class="number">1</span> * time.Second):</span><br><span class="line">		<span class="keyword">return</span> <span class="number">-1</span>, fmt.Errorf(<span class="string">"timeout！"</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Pool)</span> <span class="title">get</span><span class="params">(m *getMsg)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(p.ids) != <span class="number">0</span> &#123;</span><br><span class="line">		i := p.ids[<span class="number">0</span>]</span><br><span class="line">		p.ids = p.ids[<span class="number">1</span>:]</span><br><span class="line">		m.rch &lt;- i</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> p.counts &gt;= Max_Concurrency &#123;</span><br><span class="line">		p.getWaits = <span class="built_in">append</span>(p.getWaits, m)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	done := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>)</span><br><span class="line">	dealDone:= <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		i:=&lt;-done</span><br><span class="line">		putM:=&amp;putMsg&#123;&#125;</span><br><span class="line">		putM.res=i</span><br><span class="line">		p.put(putM)</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">		time.Sleep(time.Second)</span><br><span class="line">		i:=<span class="keyword">int</span>(time.Now().UnixNano())</span><br><span class="line">		p.counts++</span><br><span class="line">		done&lt;-i</span><br><span class="line">	&#125;()</span><br><span class="line">	<span class="keyword">select</span> &#123;</span><br><span class="line">	<span class="keyword">case</span> i := &lt;-done:</span><br><span class="line">		m.rch &lt;- i</span><br><span class="line">	<span class="keyword">case</span> v:=&lt;-p.putChan:</span><br><span class="line">		m.rch&lt;-v.res</span><br><span class="line">		dealDone()</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Pool)</span> <span class="title">put</span><span class="params">(m *putMsg)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(p.getWaits) != <span class="number">0</span> &#123;</span><br><span class="line">		waitM := p.getWaits[<span class="number">0</span>]</span><br><span class="line">		waitM.rch &lt;- m.res</span><br><span class="line">		p.getWaits = p.getWaits[<span class="number">1</span>:]</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	p.ids = <span class="built_in">append</span>(p.ids, m.res)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p *Pool)</span> <span class="title">loop</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">for</span> &#123;</span><br><span class="line">		<span class="keyword">select</span> &#123;</span><br><span class="line">		<span class="keyword">case</span> m := &lt;-p.putChan:</span><br><span class="line">			p.put(m)</span><br><span class="line">		<span class="keyword">case</span> m := &lt;-p.getChan:</span><br><span class="line">			p.get(m)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">NewPool</span><span class="params">()</span> <span class="params">(*Pool, error)</span></span> &#123;</span><br><span class="line">	p := &amp;Pool&#123;&#125;</span><br><span class="line">	p.putChan = <span class="built_in">make</span>(<span class="keyword">chan</span> *putMsg)</span><br><span class="line">	p.getChan = <span class="built_in">make</span>(<span class="keyword">chan</span> *getMsg)</span><br><span class="line">	<span class="keyword">go</span> p.loop()</span><br><span class="line">	<span class="keyword">return</span> p, <span class="literal">nil</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	p, _ := NewPool()</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">300</span>; i++ &#123;</span><br><span class="line">		<span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(index <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">			<span class="keyword">for</span> &#123;</span><br><span class="line">				d, err := p.Get()</span><br><span class="line">				<span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">					fmt.Println(err)</span><br><span class="line">				&#125;</span><br><span class="line">				fmt.Println(<span class="string">"Index:"</span>, index, <span class="string">"Get:"</span>, d)</span><br><span class="line">				p.Put(d)</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;(i)</span><br><span class="line">	&#125;</span><br><span class="line">	time.Sleep(<span class="number">1000</span> * time.Second)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
		-->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.llyltq.top/2018/11/02/动态规划算法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="冉某某">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/11/02/动态规划算法/" itemprop="url">动态规划算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-11-02T14:30:41+08:00">
                2018-11-02
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法与数据结构/" itemprop="url" rel="index">
                    <span itemprop="name">算法与数据结构</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法与数据结构/golang/" itemprop="url" rel="index">
                    <span itemprop="name">golang</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
	  
      
	  <!--
        
          
            <p>动态规划的思想就是先解决子问题，再解决大问题。</p>
<h3 id="1-硬币组合问题"><a href="#1-硬币组合问题" class="headerlink" title="1. 硬币组合问题"></a>1. 硬币组合问题</h3><p>问题：现在有（1元,2元,3元），组成8元有几种组合？<br>思考：创建一个二维数组，列表示面值(1,2,3)，行表示总值(0,1,2,…,200)</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">combination</span><span class="params">(coins []<span class="keyword">int</span>,sum <span class="keyword">int</span>)</span></span>&#123;</span><br><span class="line">	kinds:=<span class="built_in">len</span>(coins)</span><br><span class="line">	<span class="keyword">var</span> dp [<span class="number">4</span>][<span class="number">9</span>]<span class="keyword">int</span></span><br><span class="line">	<span class="comment">//设置初始条件，组成0元的始终有一种</span></span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;=kinds;i++&#123;</span><br><span class="line">		dp[i][<span class="number">0</span>]=<span class="number">1</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">1</span>;i&lt;=kinds;i++&#123;</span><br><span class="line">		<span class="keyword">for</span> s:=<span class="number">1</span>;s&lt;=sum;s++&#123;</span><br><span class="line">			dp[i][s]=<span class="number">0</span></span><br><span class="line">			<span class="comment">//循环取当前面值的数量</span></span><br><span class="line">			<span class="keyword">for</span> k:=<span class="number">0</span>;k&lt;=s/coins[i<span class="number">-1</span>];k++&#123;</span><br><span class="line">				dp[i][s]+=dp[i<span class="number">-1</span>][j-k*coins[i<span class="number">-1</span>]]</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	fmt.Println(dp[kinds][sum])</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">例：当前面值为3，要得出总值为8的组合数，能取的3的倍数(0,1,2)，还剩下(8,5,2)</span></span><br><span class="line"><span class="comment">那么取相应总值对应的2的组合数。</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h3 id="2-最长公共子串"><a href="#2-最长公共子串" class="headerlink" title="2. 最长公共子串"></a>2. 最长公共子串</h3><p>问题：当你输入“hish”时，很显然他输错了，那么他到底要输入“fish”还是“vista”呢？<br>计算公式：<br><img src="\images\最长公共子串.jpg" alt="最长公共子串"><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Size  = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	inputStr:=<span class="string">"hish"</span></span><br><span class="line">	str1:=<span class="string">"fish"</span></span><br><span class="line">	str2:=<span class="string">"vista"</span></span><br><span class="line">	n1:=commonSubString(inputStr,str1)</span><br><span class="line">	n2:=commonSubString(inputStr,str2)</span><br><span class="line">	fmt.Printf(<span class="string">"“fish”和“hish”的最长公共子串有%d个\n"</span>,n1)</span><br><span class="line">	fmt.Printf(<span class="string">"“vista”和“hish”的最长公共子串有%d个\n"</span>,n2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">commonSubString</span><span class="params">(a,b <span class="keyword">string</span>)</span><span class="title">int</span></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> dp [Size][Size]<span class="keyword">int</span></span><br><span class="line">	sliceA:=strings.Split(a,<span class="string">""</span>)</span><br><span class="line">	sliceB:=strings.Split(b,<span class="string">""</span>)</span><br><span class="line">	lenA:=<span class="built_in">len</span>(sliceA)</span><br><span class="line">	lenB:=<span class="built_in">len</span>(sliceB)</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;lenA;i++&#123;</span><br><span class="line">		<span class="keyword">for</span> j:=<span class="number">0</span>;j&lt;lenB;j++&#123;</span><br><span class="line">			<span class="keyword">if</span> sliceA[i] == sliceB[j]&#123;</span><br><span class="line">				<span class="keyword">if</span> i==<span class="number">0</span> || j==<span class="number">0</span>&#123;</span><br><span class="line">					dp[i][j]=<span class="number">1</span></span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					dp[i][j]=dp[i<span class="number">-1</span>][j<span class="number">-1</span>]+<span class="number">1</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> findMaxNum(dp)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="3-最长公共子序列"><a href="#3-最长公共子序列" class="headerlink" title="3. 最长公共子序列"></a>3. 最长公共子序列</h3><p>问题：如果他输入了“fosh”，那么到底是想输入“fish”还是“fort”呢？<br>如果用<code>最长公共子串</code>来比较，会发现他们的子串数都为2。<br>计算公式：<br><img src="\images\最长公共子序列-1.jpg" alt="生成网格"><br><img src="\images\最长公共子序列-2.jpg" alt="计算公式"><br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> Size  = <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	input := <span class="string">"fosh"</span></span><br><span class="line">	str1 := <span class="string">"fish"</span></span><br><span class="line">	str2 := <span class="string">"fort"</span></span><br><span class="line">	n1 := commonSubSeq(input, str1)</span><br><span class="line">	n2 := commonSubSeq(input, str2)</span><br><span class="line">	fmt.Printf(<span class="string">"“fosh”和“fish”的最长公共子序列为%d\n"</span>, n1)</span><br><span class="line">	fmt.Printf(<span class="string">"“fosh”和“fort”的最长公共子序列为%d\n"</span>, n2)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">commonSubSeq</span><span class="params">(a,b <span class="keyword">string</span>)</span><span class="title">int</span></span>&#123;</span><br><span class="line">	<span class="keyword">var</span> dp [Size][Size]<span class="keyword">int</span></span><br><span class="line">	sliceA:=strings.Split(a,<span class="string">""</span>)</span><br><span class="line">	sliceB:=strings.Split(b,<span class="string">""</span>)</span><br><span class="line">	lenA:=<span class="built_in">len</span>(sliceA)</span><br><span class="line">	lenB:=<span class="built_in">len</span>(sliceB)</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;lenA;i++&#123;</span><br><span class="line">		<span class="keyword">for</span> j:=<span class="number">0</span>;j&lt;lenB;j++&#123;</span><br><span class="line">			<span class="keyword">if</span> sliceA[i] == sliceB[j]&#123;</span><br><span class="line">				<span class="keyword">if</span> i==<span class="number">0</span> || j==<span class="number">0</span>&#123;</span><br><span class="line">					dp[i][j]=<span class="number">1</span></span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					dp[i][j]=dp[i<span class="number">-1</span>][j<span class="number">-1</span>]+<span class="number">1</span></span><br><span class="line">				&#125;</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				above:= <span class="number">0</span></span><br><span class="line">				left :=<span class="number">0</span></span><br><span class="line">				<span class="keyword">switch</span> &#123;</span><br><span class="line">				<span class="keyword">case</span> i==<span class="number">0</span> &amp;&amp; j!=<span class="number">0</span>:</span><br><span class="line">					left=dp[i][j<span class="number">-1</span>]</span><br><span class="line">				<span class="keyword">case</span> i!=<span class="number">0</span> &amp;&amp; j==<span class="number">0</span>:</span><br><span class="line">					above=dp[i<span class="number">-1</span>][j]</span><br><span class="line">				<span class="keyword">case</span> i!=<span class="number">0</span> &amp;&amp; j!=<span class="number">0</span>:</span><br><span class="line">					above = dp[i<span class="number">-1</span>][j]</span><br><span class="line">					left=dp[i][j<span class="number">-1</span>]</span><br><span class="line">				<span class="keyword">default</span>:</span><br><span class="line">				&#125;</span><br><span class="line">				<span class="keyword">if</span> above &gt; left&#123;</span><br><span class="line">					dp[i][j]=above</span><br><span class="line">				&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">					dp[i][j]=left</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> findMaxNum(dp)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>

          
        
		-->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.llyltq.top/2018/10/27/递归算法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="冉某某">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/27/递归算法/" itemprop="url">递归算法</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-27T19:11:47+08:00">
                2018-10-27
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法与数据结构/" itemprop="url" rel="index">
                    <span itemprop="name">算法与数据结构</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/算法与数据结构/golang/" itemprop="url" rel="index">
                    <span itemprop="name">golang</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
	  
      
	  <!--
        
          
            <h1 id="第一题："><a href="#第一题：" class="headerlink" title="第一题："></a>第一题：</h1><p>输入一个整数N，打印1到最大的N位数。<br>输入：1<br>输出：1,2,3,4,5,6,7,8,9</p>
<hr>
<p>思路：</p>
<ol>
<li>首先将要递归的数据分为“前缀部分:需要处理的部分”</li>
<li>如果N=3，那么需要打印所有2位数，执行10次循环前缀分别为（0…9）,并且继续递归调用</li>
<li>因为这个题目是组合，所以没有需要处理的部分</li>
<li>递归的结束条件为当“N &lt;= 2”</li>
</ol>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isFirst <span class="keyword">bool</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> prefix <span class="keyword">string</span> = <span class="string">""</span></span><br><span class="line">	recursive(prefix, <span class="number">3</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">recursive</span><span class="params">(prefix <span class="keyword">string</span>, n <span class="keyword">int</span>)</span></span> &#123;</span><br><span class="line">	<span class="keyword">if</span> n &lt;= <span class="number">2</span> &#123;</span><br><span class="line">		<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">			<span class="comment">//将第一个数00去掉</span></span><br><span class="line">			<span class="keyword">if</span> isFirst &#123;</span><br><span class="line">				fmt.Println(prefix + strconv.Itoa(i))</span><br><span class="line">			&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">				isFirst=<span class="literal">true</span></span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">		recursive(prefix+strconv.Itoa(i), n<span class="number">-1</span>)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="第二题："><a href="#第二题：" class="headerlink" title="第二题："></a>第二题：</h1><p>对输入的字符串进行全排列。<br>输入：ABC<br>输出：ABC ACB BAC BCA CAB CBA</p>
<hr>
<p>思路：</p>
<p>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;ABC<br>&emsp;&emsp;/&emsp;&emsp;&emsp;&emsp;|&emsp;&emsp;&emsp;&emsp;\<br>&emsp;<code>A</code>BC&emsp;&emsp;&emsp;<code>B</code>AC&emsp;&emsp;&emsp;<code>C</code>AB<br>&emsp;/&emsp;&emsp;\&emsp;&emsp;/&emsp;&emsp;\&emsp;&emsp;/&emsp;&emsp;\<br><code>AB</code>C|<code>AC</code>B|<code>BA</code>C|<code>BC</code>A|<code>CA</code>B|<code>CB</code>A</p>
<figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	recursive(<span class="string">""</span>,<span class="string">"ABC"</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">recursive</span><span class="params">(prefix <span class="keyword">string</span>,valueToProcess <span class="keyword">string</span>)</span></span>  &#123;</span><br><span class="line">	length:= <span class="built_in">len</span>(valueToProcess)</span><br><span class="line">	<span class="keyword">if</span> length == <span class="number">1</span>&#123;</span><br><span class="line">		fmt.Println(prefix+valueToProcess)</span><br><span class="line">		<span class="keyword">return</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;length;i++&#123;</span><br><span class="line">		recursive(prefix+<span class="keyword">string</span>(valueToProcess[i]),<span class="keyword">string</span>(valueToProcess[<span class="number">0</span>:i])+<span class="keyword">string</span>(valueToProcess[i+<span class="number">1</span>:length]))</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
          
        
		-->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.llyltq.top/2018/10/26/反射/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="冉某某">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/26/反射/" itemprop="url">反射</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-26T17:47:52+08:00">
                2018-10-26
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/golang/" itemprop="url" rel="index">
                    <span itemprop="name">golang</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/golang/基础知识/" itemprop="url" rel="index">
                    <span itemprop="name">基础知识</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
	  
      
	  <!--
        
          
            <h1 id="一、基础知识"><a href="#一、基础知识" class="headerlink" title="一、基础知识"></a>一、基础知识</h1><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">user:=User&#123;</span><br><span class="line">	Id:<span class="number">2</span>,	</span><br><span class="line">	Name:<span class="string">"Tom"</span>,		</span><br><span class="line">&#125;</span><br><span class="line">v:=reflect.ValueOf(&amp;user)	<span class="comment">//&#123;2 Tom&#125;</span></span><br><span class="line">v=v.Elem()					<span class="comment">//剥离指针</span></span><br><span class="line">t:=v.Type()					<span class="comment">//main.User</span></span><br><span class="line">v.Type().Name()				<span class="comment">//User</span></span><br><span class="line">v.Kind()					<span class="comment">//struct</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//Struct</span></span><br><span class="line"><span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;t.NumField();i++&#123;</span><br><span class="line">	tf:=t.Field(i)				<span class="comment">//Id,Name</span></span><br><span class="line">	vf:=v.Field(i)				<span class="comment">//2,Tom</span></span><br><span class="line">	tag:=tf.Tag.Get(<span class="string">"name"</span>)		</span><br><span class="line">	vf.Addr()			<span class="comment">//需要把指针传进来才能取地址</span></span><br><span class="line">	<span class="keyword">if</span> vf.Interface() == reflect.Zero(tf)&#123;</span><br><span class="line">		<span class="comment">//判断是否等于零值</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> vf.Kind() == reflect.String&#123;</span><br><span class="line">		vf.SetString(<span class="string">"笙歌不止"</span>)		<span class="comment">//修改值</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">+ reflect.Zero()：返回该类型的零值</span><br><span class="line">+ Value.Set()：修改值 reflect.New(t)：根据<span class="keyword">type</span>从无到有<span class="built_in">new</span>一个新值，t必须是可以取址的</span><br><span class="line"></span><br><span class="line"><span class="comment">//Map</span></span><br><span class="line">keys:=v.MapKeys()</span><br><span class="line"><span class="keyword">for</span> _,key:=<span class="keyword">range</span> keys&#123;</span><br><span class="line">	value:=v.MapIndex(key)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Slice</span></span><br><span class="line"><span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;v.Len();i++&#123;</span><br><span class="line">	sv:=v.Index(i)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h1 id="二、应用"><a href="#二、应用" class="headerlink" title="二、应用"></a>二、应用</h1><h4 id="1-通用模板函数"><a href="#1-通用模板函数" class="headerlink" title="1. 通用模板函数"></a>1. 通用模板函数</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">add</span><span class="params">(args []reflect.Value)</span><span class="params">(result []reflect.Value)</span></span>  &#123;</span><br><span class="line">	<span class="keyword">if</span> <span class="built_in">len</span>(args)==<span class="number">0</span>&#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">var</span> tmp reflect.Value</span><br><span class="line">	<span class="keyword">switch</span> args[<span class="number">0</span>].Kind() &#123;</span><br><span class="line">	<span class="keyword">case</span> reflect.String:</span><br><span class="line">		<span class="keyword">var</span> ss=<span class="built_in">make</span>([]<span class="keyword">string</span>,<span class="number">0</span>,<span class="built_in">len</span>(args))</span><br><span class="line">		<span class="keyword">for</span> _,v:=<span class="keyword">range</span> args&#123;</span><br><span class="line">			ss=<span class="built_in">append</span>(ss,v.String())</span><br><span class="line">		&#125;</span><br><span class="line">		tmp=reflect.ValueOf(strings.Join(ss,<span class="string">""</span>))</span><br><span class="line">	<span class="keyword">case</span> reflect.Int:</span><br><span class="line">		n:=<span class="number">0</span></span><br><span class="line">		<span class="keyword">for</span> _,v:=<span class="keyword">range</span> args&#123;</span><br><span class="line">			n+=<span class="keyword">int</span>(v.Int())</span><br><span class="line">		&#125;</span><br><span class="line">		tmp=reflect.ValueOf(n)</span><br><span class="line">	<span class="keyword">default</span>:</span><br><span class="line">		fmt.Errorf(<span class="string">"Type error！"</span>)</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">	&#125;</span><br><span class="line">	result=<span class="built_in">append</span>(result,tmp)</span><br><span class="line">	<span class="keyword">return</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">makeAddFunc</span><span class="params">(fptr <span class="keyword">interface</span>&#123;&#125;)</span></span>  &#123;</span><br><span class="line">	fn:=reflect.ValueOf(fptr).Elem()</span><br><span class="line">	v:=reflect.MakeFunc(fn.Type(),add)</span><br><span class="line">	fn.Set(v)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	<span class="keyword">var</span> intAdd <span class="function"><span class="keyword">func</span><span class="params">(i,j <span class="keyword">int</span>)</span><span class="title">int</span></span></span><br><span class="line"><span class="function">	<span class="title">var</span> <span class="title">stringAdd</span> <span class="title">func</span><span class="params">(i,j <span class="keyword">string</span>)</span><span class="title">string</span></span></span><br><span class="line"><span class="function">	<span class="title">makeAddFunc</span><span class="params">(&amp;intAdd)</span></span></span><br><span class="line"><span class="function">	<span class="title">makeAddFunc</span><span class="params">(&amp;stringAdd)</span></span></span><br><span class="line"><span class="function">	<span class="title">fmt</span>.<span class="title">Println</span><span class="params">(intAdd(100,200)</span>)</span></span><br><span class="line">	fmt.Println(stringAdd("One","Two"))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="2-动态调用函数"><a href="#2-动态调用函数" class="headerlink" title="2. 动态调用函数"></a>2. 动态调用函数</h4><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">	u := User&#123;<span class="number">1</span>, <span class="string">"GS"</span>, <span class="number">22</span>&#125;</span><br><span class="line">	v := reflect.ValueOf(u)</span><br><span class="line">	mv := v.MethodByName(<span class="string">"Hello"</span>) <span class="comment">//调用方法</span></span><br><span class="line">	out := mv.CallSlice([]reflect.Value&#123;</span><br><span class="line">		reflect.ValueOf(<span class="string">"%s=%d"</span>),</span><br><span class="line">		reflect.ValueOf([]<span class="keyword">interface</span>&#123;&#125;&#123;<span class="string">"x"</span>, <span class="number">20</span>&#125;),</span><br><span class="line">	&#125;)</span><br><span class="line">	fmt.Println(out[<span class="number">0</span>])</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> User <span class="keyword">struct</span> &#123;</span><br><span class="line">	Id   <span class="keyword">int</span></span><br><span class="line">	Name <span class="keyword">string</span></span><br><span class="line">	Age  <span class="keyword">int</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u User)</span> <span class="title">Hello</span><span class="params">(str <span class="keyword">string</span>, a ...<span class="keyword">interface</span>&#123;&#125;)</span> <span class="title">string</span></span> &#123;</span><br><span class="line">	<span class="keyword">return</span> fmt.Sprintf(str, a...)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="3、sorm"><a href="#3、sorm" class="headerlink" title="3、sorm"></a>3、sorm</h4><p>一个简单的orm实现<a href="https://github.com/gongshen/sorm/" target="_blank" rel="noopener">sorm</a></p>

          
        
		-->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.llyltq.top/2018/10/25/优化/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="冉某某">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/25/优化/" itemprop="url">优化</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-25T21:59:02+08:00">
                2018-10-25
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/golang/" itemprop="url" rel="index">
                    <span itemprop="name">golang</span>
                  </a>
                </span>

                
                
                  ， 
                
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/golang/优化/" itemprop="url" rel="index">
                    <span itemprop="name">优化</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
	  
      
	  <!--
        
          
            <h1 id="1、预分配"><a href="#1、预分配" class="headerlink" title="1、预分配"></a>1、预分配</h1><p>比如你的代码中定义了一个切片，下面又要循环使用改切片。<br>那么每次<code>append</code>，如果容量过小的话，就会重新分配数组，浪费资源。<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> letter []<span class="keyword">rune</span></span><br><span class="line"><span class="keyword">for</span> i:=<span class="number">0</span>;i&lt;N;i++&#123;</span><br><span class="line">    letter = <span class="built_in">append</span>(letter,s)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>解法：预先给切片分配一个估计够用的容量（切片就是由数组形成的）<br><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">letter:= <span class="built_in">make</span>([]<span class="keyword">rune</span>,<span class="number">0</span>,<span class="number">20</span>)</span><br></pre></td></tr></table></figure></p>
<h1 id="2、避免堆分配"><a href="#2、避免堆分配" class="headerlink" title="2、避免堆分配"></a>2、避免堆分配</h1><p>尽量在栈中分配空间，使用<code>A{}</code>的方式创建对象，而不是<code>new(A)</code>。</p>

          
        
		-->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.llyltq.top/2018/10/24/https/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="冉某某">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/24/https/" itemprop="url">https</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-24T22:58:45+08:00">
                2018-10-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
	  
      
	  <!--
        
          
            <p>https跟http不同，在传输层tcp和应用层http之间还需要加入一个表现层TLS/SSL。</p>
<h3 id="HTTPS的工作流程"><a href="#HTTPS的工作流程" class="headerlink" title="HTTPS的工作流程"></a>HTTPS的工作流程</h3><ol>
<li>客户端通过HTTPS的URL访问服务器的443端口，并且发送一个<code>随机数（Client random）</code>和<code>加密算法</code>给服务器</li>
<li>服务器会将网站证书传送给客户端，还会发送一个<code>随机数（Server random）</code>和协商的<code>加密算法</code>客户端</li>
<li>客户端如果验证证书有效，生成一个新的随机数（Premaster random），并使用证书中的公钥加密发送给服务器</li>
<li>服务器使用私钥解密客户端发来的随机数</li>
<li>双方使用先前的加密算法，根据3个随机数生成一个对称加密的密钥用于加密接下来所有的传输</li>
</ol>
<h3 id="证书结构"><a href="#证书结构" class="headerlink" title="证书结构"></a>证书结构</h3><ol>
<li>CA</li>
<li>使用者</li>
<li>有效期</li>
<li>公钥</li>
<li>签名算法</li>
<li>指纹</li>
<li>…</li>
</ol>
<h3 id="证书验证流程"><a href="#证书验证流程" class="headerlink" title="证书验证流程"></a>证书验证流程</h3><ol>
<li>浏览器对证书的有效期和使用者进行校验</li>
<li>浏览器查找操作系统中受信任的CA，和服务器证书的CA进行比对</li>
<li>比对不成功，说明服务器证书的CA不合法</li>
<li>比对成功，浏览器取出操作系统相关CA的公钥，并对证书的签名进行解密</li>
<li>根据证书指定哈希算法对证书进行hash，然后和指纹比对是否一致</li>
<li>这样就能判断该证书有效且合法</li>
</ol>

          
        
		-->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.llyltq.top/2018/10/24/Restful-API/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="冉某某">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Hexo">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2018/10/24/Restful-API/" itemprop="url">服务的架构</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-10-24T16:35:32+08:00">
                2018-10-24
              </time>
            

            

            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">分类于</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/web/" itemprop="url" rel="index">
                    <span itemprop="name">web</span>
                  </a>
                </span>

                
                
              
            </span>
          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      
	  
      
	  <!--
        
          
            <h1 id="一、服务对外的描述（框架）"><a href="#一、服务对外的描述（框架）" class="headerlink" title="一、服务对外的描述（框架）"></a>一、服务对外的描述（框架）</h1><ul>
<li>Restful API<br>  <a href="http://www.ruanyifeng.com/blog/2011/09/restful.html" target="_blank" rel="noopener">Rest理解</a><br>  <a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html" target="_blank" rel="noopener">Restful API设计指南</a></li>
<li>XML配置</li>
<li>IDL文件</li>
</ul>
<h1 id="二、通信的协议"><a href="#二、通信的协议" class="headerlink" title="二、通信的协议"></a>二、通信的协议</h1><h4 id="1-HTTP"><a href="#1-HTTP" class="headerlink" title="1. HTTP"></a>1. HTTP</h4><p>HTTP是封装在TCP上的，所以每建立一次通信就是进行tcp的3次握手过程：</p>
<ol>
<li>A  -&gt;  (SYN=1 seq=x)</li>
<li>B  -&gt;  ACK=x+1,(SYN=1 seq=y)</li>
<li>A  -&gt;  ACK=y+1</li>
</ol>
<p>结束还需要进行4次挥手阶段：</p>
<ol>
<li>A  -&gt;  (FIN=1 seq=x)</li>
<li>B  -&gt;  ACK=x+1</li>
<li>B  -&gt;  (FIN=1 seq=y),ACK=x+1</li>
<li>A  -&gt;  ACK=y+1</li>
</ol>
<hr>
<h4 id="2-Socket"><a href="#2-Socket" class="headerlink" title="2. Socket"></a>2. Socket</h4><p>socket是基于TCP/IP封装的，所以建立连接需要一对套接字：</p>
<ol>
<li>Server绑定某个端口：bind()</li>
<li>Server监听指定端口：listen()</li>
<li>Client对服务器进行拨号：dial()</li>
<li>Server对客户端的连接进行响应：accept()</li>
<li>Client发送数据：send()</li>
<li>Server接收数据：receive()</li>
<li>关闭连接：close()</li>
</ol>
<h1 id="三、服务器端处理请求的方式"><a href="#三、服务器端处理请求的方式" class="headerlink" title="三、服务器端处理请求的方式"></a>三、服务器端处理请求的方式</h1><h4 id="同步阻塞"><a href="#同步阻塞" class="headerlink" title="同步阻塞"></a>同步阻塞</h4><p>客户端每发出一次请求，服务器都会生成一个线程去处理。</p>
<h4 id="同步非阻塞"><a href="#同步非阻塞" class="headerlink" title="同步非阻塞"></a>同步非阻塞</h4><p>客户端每发出一次请求，服务器并不是每次都创建一个线程，而是将线程通过I/O多路复用技术，使得一个线程能处理多个请求。</p>
<h4 id="异步非阻塞"><a href="#异步非阻塞" class="headerlink" title="异步非阻塞"></a>异步非阻塞</h4><p>客户端发起请求后立即返回，等I/O操作完成再对数据进行处理。</p>
<h1 id="四、数据的序列化与反序列化"><a href="#四、数据的序列化与反序列化" class="headerlink" title="四、数据的序列化与反序列化"></a>四、数据的序列化与反序列化</h1>
          
        
		-->
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">冉某某</p>
              <p class="site-description motion-element" itemprop="description">I'm worm,find the truth,live in shadow.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">63</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">27</span>
                  <span class="site-state-item-name">分类</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">50</span>
                  <span class="site-state-item-name">标签</span>
                </a>
              </div>
            

          </nav>

          

          
            <div class="links-of-author motion-element">
                
                  <span class="links-of-author-item">
                    <a href="https://github.com/gongshen" target="_blank" title="GitHub">
                      
                        <i class="fa fa-fw fa-github"></i>GitHub</a>
                  </span>
                
                  <span class="links-of-author-item">
                    <a href="mailto:gongshen1995@gmail.com" target="_blank" title="E-Mail">
                      
                        <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                  </span>
                
            </div>
          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">冉某某</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
